<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Comparatore Gas Business</title>
    <link rel="stylesheet" href="../styles.css">
</head>
<body>

<button class="back-button" onclick="window.location.href='../dashboard.html'">⬅ Torna alla Dashboard</button>

<h2 class="page-title">Comparatore Gas Business</h2>

<div class="form-container">
    <label>Smc Mensili:</label>
    <input type="number" id="smc" placeholder="Inserisci consumo mensile">

    <label>PSV (€/Smc):</label>
    <input type="number" id="psv" step="0.01" placeholder="Inserisci PSV">

    <button onclick="calcola()">Calcola</button>
</div>

<div id="risultati" class="results-container"></div>

<script>
function calcola() {
    let smc = parseFloat(document.getElementById("smc").value);
    let psv = parseFloat(document.getElementById("psv").value);

    if (isNaN(smc) || isNaN(psv)) {
        alert("Inserisci valori validi!");
        return;
    }

    // Tariffe IDENTICHE ai tuoi file
    const offerte = [
        { nome: "CEI Business Flex", materia: (psv + 0.18) * smc, fisso: 12, variabile: smc * 0.018 },
        { nome: "CEI Business Pro", materia: (psv + 0.15) * smc, fisso: 15, variabile: smc * 0.016 },
        { nome: "Estra Gas Impresa", materia: (psv + 0.17) * smc, fisso: 12, variabile: smc * 0.017 }
    ];

    let html = `
    <h3>Risultati</h3>
    <table>
        <tr>
            <th>Offerta</th>
            <th>Materia Prima (€)</th>
            <th>Quota Fissa (€)</th>
            <th>Variabili (€)</th>
            <th>Totale (€)</th>
        </tr>
    `;

    offerte.forEach(o => {
        let totale = o.materia + o.fisso + o.variabile;
        html += `
            <tr>
                <td>${o.nome}</td>
                <td>€ ${o.materia.toFixed(2)}</td>
                <td>€ ${o.fisso.toFixed(2)}</td>
                <td>€ ${o.variabile.toFixed(2)}</td>
                <td><b>€ ${totale.toFixed(2)}</b></td>
            </tr>
        `;
    });

    html += "</table>";
    document.getElementById("risultati").innerHTML = html;
}
</script>

</body>
</html>
